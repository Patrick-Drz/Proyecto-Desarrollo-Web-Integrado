<div class="container d-flex justify-content-center align-items-center vh-100 bg-light">
    <div class="card shadow-lg border-0" style="max-width: 450px; width: 100%; border-radius: 12px;">
      <div class="card-body p-5">
          
          <div class="text-center mb-4">
              <i class="fa-solid fa-lock fa-3x text-primary mb-3"></i>
              <h3 class="fw-bold text-dark">Recuperación de Cuenta</h3>
          </div>
          
          <div *ngIf="!linkRecuperacion">
              <p class="text-muted text-center mb-4">
                  Ingresa tu correo institucional y verificaremos tus credenciales.
              </p>
              
              <div class="mb-4">
                <label class="form-label fw-bold small text-uppercase text-secondary">Correo Electrónico</label>
                <div class="input-group">
                    <span class="input-group-text bg-white border-end-0"><i class="fa-regular fa-envelope text-muted"></i></span>
                    <input type="email" class="form-control border-start-0 ps-0" [(ngModel)]="correo" placeholder="usuario@utp.edu.pe">
                </div>
              </div>

              <button class="btn btn-primary w-100 py-2 fw-bold" (click)="enviar()" [disabled]="loading">
                {{ loading ? 'Procesando...' : 'Verificar y Continuar' }} <i class="fa-solid fa-arrow-right ms-2"></i>
              </button>
          </div>

          <div *ngIf="linkRecuperacion" class="text-center">
              <div class="alert alert-success border-0 bg-success-subtle text-success mb-4">
                  <i class="fa-solid fa-circle-check me-2"></i>Verificación Exitosa
              </div>
              
              <p class="text-dark mb-4 small">
                  Hemos generado un enlace seguro de acceso temporal para tu cuenta. Pulsa el botón a continuación para definir tu nueva contraseña.
              </p>
              
              <a [href]="linkRecuperacion" class="btn btn-dark w-100 py-2 fw-bold">
                  <i class="fa-solid fa-key me-2"></i>Restablecer Contraseña
              </a>
          </div>

          <div class="text-center mt-4 border-top pt-3">
            <a routerLink="/auth/login" class="text-decoration-none small text-secondary fw-bold">
                <i class="fa-solid fa-chevron-left me-1"></i> Volver al Login
            </a>
          </div>

      </div>
    </div>
</div>